---
title: "MUSA 5080 | Week 4 Notes (Spatial Data & GIS in R)"
date: "2025-09-29"
author: "Your Name Here"
format: html
editor: visual
---

##  Key Concepts Learned (Core Takeaways)

### Ô∏è Why Spatial Analysis Matters

- **Missing Piece**: We previously worked with *what* is happening (income, education) but not **WHERE** it is happening. Spatial analysis answers critical questions like: Are low-income communities clustered? Are they near resources? 
- **Algorithmic Fairness**: Geographic bias exists in algorithms (e.g., rideshare avoiding areas, crime prediction concentrating enforcement). Understanding spatial patterns is necessary to design **fairer systems**.

###  Spatial Data Fundamentals (`sf` package)

- **Vector Data Model**: The real world is represented by simplified geometric types:
    - **Points**: Locations (hospitals, incidents).
    - **Lines**: Linear features (roads, transit routes).
    - **Polygons**: Areas (census tracts, neighborhoods).
- **The `sf` Package**: The modern standard in R. Spatial data is viewed simply as a standard `data.frame` with an extra **geometry column**.

##  Coding Techniques (R Skills: Spatial Operations)

###  Spatial Subsetting (`st_filter()`)

This function extracts features based on a spatial relationship, using the `.predicate` parameter.

- **Key Function**: `st_filter(data_to_filter, reference_geometry, .predicate = relationship)`.
- **Predicates**:
    - `st_intersects`: Any overlap (default). Used for: "Which counties are affected by flooding?".
    - `st_touches`: Share a boundary, no interior overlap. Used for: "Which counties border Allegheny?".
    - `st_within`: Completely inside. Used for: "Schools within district boundaries".
    - **Note**: Using `st_intersects` includes the reference feature itself.

###  Spatial Joins (`st_join()`)

Combines two datasets based on a spatial relationship instead of a shared ID.

- **Use Case**: Joining a table of demographic data (non-spatial) to a polygon layer (spatial) based on the `GEOID`.

###  Distance and Area Calculations

- **Area**: `st_area(geometry)`. **Units depend on the CRS!**.
- **Distance**: `st_distance(geometry1, geometry2)`.